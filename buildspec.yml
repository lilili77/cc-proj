version: 0.2
phases:
  install:
    runtime-versions:
      python: 3.8
    commands:
      # Install/upgrade pip and AWS CLI
      - pip install --upgrade pip awscli
      # Install the packages required
      - pip install -r requirements.txt -t .
  build:
    commands:
    - aws cloudformation package --template-file template.yaml --s3-bucket $bucket_name --output-template-file output-template.yaml
artifacts:
  type: zip
  files:
  - template.yaml
  - output-template.yaml
